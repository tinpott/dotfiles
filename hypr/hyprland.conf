exec-once = ./startup.sh
exec      = ./reload.sh

general { # https://wiki.hyprland.org/Configuring/Variables/#general
	gaps_in = 2
	gaps_out = 4
	border_size = 2

	# Solid format:    rgba(rrggbbaa)
	# Gradiant format: rgba(rrggbbaa) rgba(rrggbbaa) XXdeg
	col.active_border = rgba(0099ccee) rgba(00ffbbee) 45deg
	col.inactive_border = rgba(595959aa)

	layout = master # master, dwindle, nstack

	allow_tearing = false # See https://wiki.hyprland.org/Configuring/Tearing/ before turning this on
}

input { # https://wiki.hyprland.org/Configuring/Variables/#input
	kb_layout = us
	kb_variant =
	kb_model =
	kb_options =
	kb_rules =

	follow_mouse = 1

	sensitivity = -0.4 # Range: [-1.0,1.0]
	accel_profile = flat

	touchpad {
		natural_scroll = true
		scroll_factor = 0.7
	}
}

device {
	name = microsoft-surface-keyboard-touchpad
	sensitivity = -0.1
}

decoration { # https://wiki.hyprland.org/Configuring/Variables/#decoration
	rounding = 4
	
	blur {
		enabled = true
		size = 3
		passes = 1
		popups = true
	}
}

animations { # https://wiki.hyprland.org/Configuring/Animations/
	enabled = yes

	bezier = myBezier, 0.05, 0.9, 0.1, 1.05

	animation = windows, 1, 7, myBezier
	animation = windowsOut, 1, 7, default, popin 80%
	animation = border, 1, 10, default
	animation = borderangle, 1, 8, default
	animation = fade, 1, 7, default
	animation = workspaces, 1, 6, default
}

dwindle { # https://wiki.hyprland.org/Configuring/Dwindle-Layout/
	pseudotile = yes # TODO: master switch for pseudotiling
	preserve_split = yes # TODO: you probably want this
}

master { # https://wiki.hyprland.org/Configuring/Master-Layout/
	mfact = 0.50
	new_status = master
	new_on_top = true
	drop_at_cursor = false
}

xwayland {
	force_zero_scaling = true
}

plugin {
	nstack { # https://github.com/zakk4223/hyprNStack
		layout {
			orientation = left
			new_on_top = 0
			new_is_master = 1
			no_gaps_when_only = 0
			# special_scale_factor = 0.8
			inherit_fullscreen = 1
			stacks = 2
			center_single_master = 0
			mfact = 0.5
			single_mfact = 0.5
		}
	}
	hyprsplit {
		num_workspaces = 10
		persistent_workspaces = true
	}
}

# Environment variables
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt6ct
env = PATH,$HOME/.scripts:$PATH
env = WALLPAPER_DEFAULT_DIR,$HOME/Pictures/wallpapers/
env = WALLPAPER_DEFAULT_FILE,.wallpaper.symlink
env = WALLPAPER_DEFAULT_LIST,wallpapers.txt

# Monitors - https://wiki.hyprland.org/Configuring/Monitors/
monitor = DP-1, 2560x1440@165.00, 1920x0,   1.25
monitor = DP-2, 1920x1080@144.00,    0x128, 1

# Window rules - https://wiki.hyprland.org/Configuring/Window-Rules/
windowrulev2 = suppressevent maximize,      class:.*
windowrulev2 = suppressevent activate,      class:^(steam)$
windowrulev2 = suppressevent activate,      class:^(Steam)$
windowrulev2 = suppressevent activatefocus, class:^(steam)$
windowrulev2 = suppressevent activatefocus, class:^(Steam)$
# Default workspaces
	# By title
	windowrulev2 = workspace 10, title:^(Steam)$
	# By class
	windowrulev2 = workspace 11,        class:^(discord)$
	windowrulev2 = workspace 10,        class:^(steam)$
	windowrulev2 = workspace 10,        class:^(Steam)$
	windowrulev2 = workspace 10,        class:^(steamwebhelper)$
	windowrulev2 = workspace 10 silent, class:^(steam)$
# Floating windows
	# By class
	windowrulev2 = float, class:^(pavucontrol)$
	windowrulev2 = float, class:^(org\.gnome\.Calculator)$
	windowrulev2 = float, class:^(org\.gnome\.Characters)$
	windowrulev2 = float, class:^(nm-connection-editor)$
	windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
	windowrulev2 = float, class:^(firefox)$,                  title:^(Picture-in-Picture)$
	windowrulev2 = float, class:^(org.gnome.FileRoller)$,     title:^(Extract)$
	windowrulev2 = float, class:^(selectdefaultapplication)$, title:^(selectdefaultapplication)$
	# By title
	windowrulev2 = float, title:^(File Operation Progress)$
	windowrulev2 = float, title:^(Open Folder)$
	windowrulev2 = float, title:^(Library)$
	windowrulev2 = float, title:^(Open File)$
	windowrulev2 = float, title:^(Text Import - \[.*\])$
	windowrulev2 = float, title:^(Rename \".*\")$

# XWayland - https://wiki.hyprland.org/Useful-Utilities/Screen-Sharing/#xwayland
windowrulev2 = opacity 0.0 override, class:^(xwaylandvideobridge)$
windowrulev2 = noanim,               class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,       class:^(xwaylandvideobridge)$
windowrulev2 = maxsize 1 1,          class:^(xwaylandvideobridge)$
windowrulev2 = noblur,               class:^(xwaylandvideobridge)$

# Workspace rules - https://wiki.hyprland.org/Configuring/Workspace-Rules/
workspace =  1, monitor:DP-2
workspace =  2, monitor:DP-2
workspace =  3, monitor:DP-2
workspace =  4, monitor:DP-2
workspace =  5, monitor:DP-2
workspace =  6, monitor:DP-1
workspace =  7, monitor:DP-1
workspace =  8, monitor:DP-1
workspace =  9, monitor:DP-1
workspace = 10, monitor:DP-1

# Keybinds - https://wiki.hyprland.org/Configuring/Binds/
$mainMod = super
	# System
	bind = $mainMod,           escape, exec,       loginctl lock-session
	bind = $mainMod alt shift, end,    exec,       systemctl suspend
	bind =          alt,       F4,     killactive, #blank#
	# Media
	bind = , XF86AudioPlay, exec, ~/.scripts/media.sh toggle
	bind = , XF86AudioNext, exec, ~/.scripts/media.sh next
	bind = , XF86AudioPrev, exec, ~/.scripts/media.sh prev
	# Audio
	bind = ,         XF86AudioMute,        exec, ~/.scripts/audio.sh sink   toggle
	bind = ,         XF86AudioRaiseVolume, exec, ~/.scripts/audio.sh sink   inc
	bind = ,         XF86AudioLowerVolume, exec, ~/.scripts/audio.sh sink   dec
	bind = $mainMod, c,                    exec, ~/.scripts/audio.sh source toggle
	bind = control,  XF86AudioMute,        exec, ~/.scripts/audio.sh source toggle
	bind = control,  XF86AudioRaiseVolume, exec, ~/.scripts/audio.sh source inc
	bind = control,  XF86AudioLowerVolume, exec, ~/.scripts/audio.sh source dec
	# Modify layout
	bind = $mainMod shift, backspace, exit,           #blank#
	bind = $mainMod,       t,         togglefloating, #blank#
	# Resize windows
	bind = $mainMod alt, h, resizeactive, -40   0
	bind = $mainMod alt, l, resizeactive,  40   0
	bind = $mainMod alt, j, resizeactive,   0  40
	bind = $mainMod alt, k, resizeactive,   0 -40
	# Move windows
	bind = $mainMod shift, h, movewindow, l
	bind = $mainMod shift, l, movewindow, r
	bind = $mainMod shift, j, movewindow, d
	bind = $mainMod shift, k, movewindow, u
	# Move focus
	bind = $mainMod, h, movefocus, l
	bind = $mainMod, l, movefocus, r
	bind = $mainMod, k, movefocus, u
	bind = $mainMod, j, movefocus, d
	# Layouts
		# Master layout
		bind = $mainMod, F1,    exec,      hyprctl keyword general:layout master
		bind = $mainMod, r,     layoutmsg, swapwithmaster
		# Dwindle layout
		bind = $mainMod,       F2, exec,        hyprctl keyword general:layout dwindle
		bind = $mainMod,       q,  togglesplit, #blank#
		bind = $mainMod shift, p,  pseudo,      #blank#
	# Modify windows with mouse
	bindm = $mainMod, mouse:272, movewindow
	bindm = $mainMod, mouse:273, resizewindow
	# Switch active workspace
		# Scrolling
		bind = $mainMod, period, workspace, e+1
		# Keyboard
		bind = $mainMod, 1, split:workspace,  1
		bind = $mainMod, 2, split:workspace,  2
		bind = $mainMod, 3, split:workspace,  3
		bind = $mainMod, 4, split:workspace,  4
		bind = $mainMod, 5, split:workspace,  5
		bind = $mainMod, 6, split:workspace,  6
		bind = $mainMod, 7, split:workspace,  7
		bind = $mainMod, 8, split:workspace,  8
		bind = $mainMod, 9, split:workspace,  9
		bind = $mainMod, 0, split:workspace, 10
	# Move active window to another workspace
		# Follow to new workspace
		bind = $mainMod shift, 1, split:movetoworkspace,  1
		bind = $mainMod shift, 2, split:movetoworkspace,  2
		bind = $mainMod shift, 3, split:movetoworkspace,  3
		bind = $mainMod shift, 4, split:movetoworkspace,  4
		bind = $mainMod shift, 5, split:movetoworkspace,  5
		bind = $mainMod shift, 6, split:movetoworkspace,  6
		bind = $mainMod shift, 7, split:movetoworkspace,  7
		bind = $mainMod shift, 8, split:movetoworkspace,  8
		bind = $mainMod shift, 9, split:movetoworkspace,  9
		bind = $mainMod shift, 0, split:movetoworkspace, 10
		# Stay on current workspace
		bind = $mainMod shift alt, 1, split:movetoworkspacesilent,  1
		bind = $mainMod shift alt, 2, split:movetoworkspacesilent,  2
		bind = $mainMod shift alt, 3, split:movetoworkspacesilent,  3
		bind = $mainMod shift alt, 4, split:movetoworkspacesilent,  4
		bind = $mainMod shift alt, 5, split:movetoworkspacesilent,  5
		bind = $mainMod shift alt, 6, split:movetoworkspacesilent,  6
		bind = $mainMod shift alt, 7, split:movetoworkspacesilent,  7
		bind = $mainMod shift alt, 8, split:movetoworkspacesilent,  8
		bind = $mainMod shift alt, 9, split:movetoworkspacesilent,  9
		bind = $mainMod shift alt, 0, split:movetoworkspacesilent, 10
	# Move active window to monitor
	bind = $mainMod shift, mouse_up,   movewindow, mon:+1
	bind = $mainMod shift, period,     movewindow, mon:+1
	bind = $mainMod shift, mouse_down, movewindow, mon:-1
	bind = $mainMod shift, comma,      movewindow, mon:-1
	# Special workspace
	bind = $mainMod,       s, togglespecialworkspace, S
	bind = $mainMod shift, s, movetoworkspace,        special:S
	# User apps
	bind = $mainMod,          space,     exec,    wofi --allow-images --allow-markup --show drun
	bind = $mainMod,          return,    exec,    alacritty
	bind = $mainMod,          e,         exec,    thunar
	bind = $mainMod,          w,         exec,    ~/.scripts/restart-bar.sh
	bind = $mainMod,          d,         exec,    ~/.scripts/restart_notify.sh
	bind = $mainMod,          b,         exec,    firefox
	bind = $mainMod,          p,         exec,    firefox --private-window
	bind = $mainMod alt,      p,         exec,    librewolf
	bind = ,                  print,     exec,    ~/.scripts/screenshot.sh
	bind = $mainMod,          m,         exec,    rofimoji
	bind = $mainMod,          v,         exec,    pavucontrol & noisetorch
	bind = $mainMod shift,    escape,    exec,    wlogout
	bind = ctrl alt,          delete,    exec,    wlogout
	